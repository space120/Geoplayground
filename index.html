<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Geoplayground — Bubble Graph</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="topbar">
    <div class="brand">Universe120 — Simple</div>

    <!-- File menu (hover dropdown) -->
    <div class="menu menu-file">
      <div class="menu-label">File ▾</div>
      <div class="menu-dropdown">
        <button class="menu-item" data-file-action="save">Save</button>
        <button class="menu-item" data-file-action="load">Load</button>
        <button class="menu-item" data-file-action="export">Export All</button>
        <button class="menu-item" data-file-action="clear">Clear Canvas</button>
      </div>
    </div>

    <!-- Tool buttons -->
    <button class="toolBtn" data-tool="select">Select</button>
    <button class="toolBtn" data-tool="line">Line</button>
    <button class="toolBtn" data-tool="shape">Shape</button>
    <button class="toolBtn" data-tool="erase">Erase</button>

    <button id="btnDim">Dimensions: Off</button>

    <input type="color" id="colorPicker" value="#00ff55" title="Line Color">

    <button id="btnReset">Reset View</button>

    <!-- Presets drawer toggle -->
    <button id="btnPresets" class="right-btn">Presets ▸</button>

    <!-- Export All icon -->
    <button id="btnExportAll" class="icon-btn" title="Export All (JSON + PNG + SVG)">
      <span class="icon-square"></span>
      <span class="icon-arrow"></span>
    </button>

    <input type="file" id="fileInput" accept=".json" style="display:none;">
  </div>

  <!-- Right-side preset drawer -->
  <div class="preset-drawer" id="presetDrawer">
    <div class="preset-header">Shape Presets</div>
    <div class="preset-sub">Pick a shape, then move your cursor and click to place.</div>

    <div class="preset-group-title">2D</div>
    <div class="preset-buttons">
      <button class="preset-btn" id="presetTriangle">Triangle</button>
      <button class="preset-btn" id="presetHexagon">Hexagon</button>
    </div>

    <div class="preset-group-title">3D / 4D Projections</div>
    <div class="preset-buttons">
      <button class="preset-btn" id="presetCube">Cube (3D)</button>
      <button class="preset-btn" id="presetTesseract">Tesseract Frame</button>
    </div>

    <div class="preset-section">
      <div class="preset-label">Preset Size</div>
      <input type="range" id="presetSize" min="0.5" max="2.5" step="0.1" value="1.0">
    </div>

    <div class="preset-section">
      <div class="preset-label">Snap Mode</div>
      <select id="snapModeSelect">
        <option value="grid" selected>Grid Only</option>
        <option value="gridMid">Grid + Midpoints</option>
        <option value="free">Free (no snap)</option>
      </select>
    </div>

    <div class="preset-hint">
      • White ghost preview follows your cursor.<br>
      • Click to place snapped to the bubble grid.<br>
      • Press <strong>Esc</strong> to cancel preset mode.
    </div>
  </div>

  <canvas id="bubbleCanvas"></canvas>

  <div class="statusbar">
    <div id="stTool">Tool: select</div>
    <div id="stTransform">Transform: move (M/R/S, F free, N snap)</div>
    <div id="stPos">x:0 y:0</div>
  </div>

  <script src="app.js"></script>
</body>
</html>
